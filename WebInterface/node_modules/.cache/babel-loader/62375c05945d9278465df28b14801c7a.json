{"ast":null,"code":"var _jsxFileName = \"/Users/charlesberthaume/Projects/relaypico-pico/WebInterface/src/index.js\";\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport 'bootstrap/dist/js/bootstrap.js';\nimport 'bootstrap/dist/js/bootstrap.bundle';\nimport './index.css';\nimport { Serial } from './serial.js';\nimport { GBWebsocket } from './gbwebsocket.js';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nglobal.jQuery = require('jquery');\nrequire('bootstrap');\nvar HOSTSTATIC = \"192.168.144.4\";\nclass OnlineGBGame extends React.Component {\n  handleConnectCreateClick() {\n    this.ws = GBWebsocket(\"ws://\" + HOSTSTATIC + \"/create\");\n    this.serial = new Serial();\n    this.serial.getDevice().then(() => {\n      console.log(\"Usb connected, updating status.\");\n      this.initiateConnection();\n    }).catch(c => {\n      console.log(\"CATTTCH\");\n    });\n  }\n  handleConnectJoinClick() {\n    this.ws = GBWebsocket(\"ws://\" + HOSTSTATIC + \"/join\");\n    this.serial = new Serial();\n    this.serial.getDevice().then(() => {\n      console.log(\"Usb connected, updating status.\");\n      this.connection();\n    }).catch(c => {\n      console.log(\"CATTTCH\");\n    });\n  }\n  connection() {\n    console.log(\"Attempt connection...\");\n    this.serial.receiveFromOtherGB(this.ws.read());\n    this.serial.receiveFromMyGB(this.serial.read());\n    this.serial.sendToMyGB();\n    this.serial.sendToOtherGB();\n  }\n  initiateConnection() {\n    console.log(\"Trying to initiate connection...\");\n    this.serial.receiveFromMyGB(this.serial.read());\n    this.serial.sendToOtherGB();\n    this.serial.receiveFromOtherGB(this.ws.read());\n    this.serial.sendToMyGB();\n  }\n  render() {\n    if (navigator.usb) {\n      if (true) {\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"connect\",\n          children: [/*#__PURE__*/_jsxDEV(\"img\", {\n            src: process.env.PUBLIC_URL + '/images/animation.gif',\n            className: \"gameboy\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 63,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n            className: \"cover-heading\",\n            children: \"GameBoylinki\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 64,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"lead\",\n            children: \"Connect your Game Boy, boot Games, and start playing with your friends!\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 65,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 66,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"h4\", {\n            children: \"Connect your Game Boy\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 67,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: \"Connect your Game Boy with the USB to Game Link adapter and click \\\"connect\\\".\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 68,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: e => this.handleConnectJoinClick(),\n            className: \"btn btn-lg btn-secondary\",\n            children: \"Connect\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 69,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: e => this.handleConnectCreateClick(),\n            className: \"btn btn-lg btn-secondary\",\n            children: \"Create\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 70,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 71,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"small\", {\n            children: \"Version: 0.1\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 72,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 11\n        }, this);\n      }\n    } else {\n      return /*#__PURE__*/_jsxDEV(\"span\", {\n        children: \"Not supported by browser... try to have a more recent browser or system.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 13\n      }, this);\n    }\n  }\n}\n\n// ========================================\n\nReactDOM.render( /*#__PURE__*/_jsxDEV(OnlineGBGame, {}, void 0, false, {\n  fileName: _jsxFileName,\n  lineNumber: 90,\n  columnNumber: 3\n}, this), document.getElementById('root'));","map":{"version":3,"names":["React","ReactDOM","Serial","GBWebsocket","jsxDEV","_jsxDEV","global","jQuery","require","HOSTSTATIC","OnlineGBGame","Component","handleConnectCreateClick","ws","serial","getDevice","then","console","log","initiateConnection","catch","c","handleConnectJoinClick","connection","receiveFromOtherGB","read","receiveFromMyGB","sendToMyGB","sendToOtherGB","render","navigator","usb","className","children","src","process","env","PUBLIC_URL","fileName","_jsxFileName","lineNumber","columnNumber","onClick","e","document","getElementById"],"sources":["/Users/charlesberthaume/Projects/relaypico-pico/WebInterface/src/index.js"],"sourcesContent":["import React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport 'bootstrap/dist/js/bootstrap.js';\nimport 'bootstrap/dist/js/bootstrap.bundle';\nimport './index.css';\n\nimport { Serial } from './serial.js';\nimport { GBWebsocket } from './gbwebsocket.js';\nglobal.jQuery = require('jquery');\nrequire('bootstrap');\n\n\nvar HOSTSTATIC = \"192.168.144.4\" \n\nclass OnlineGBGame extends React.Component {\n  handleConnectCreateClick() {\n    this.ws = GBWebsocket(\"ws://\"+HOSTSTATIC+\"/create\");\n    this.serial = new Serial();\n    this.serial.getDevice().then(() => {\n      console.log(\"Usb connected, updating status.\");\n      this.initiateConnection();\n    }).catch(c => {\n      console.log(\"CATTTCH\");\n    });\n  }\n\n  handleConnectJoinClick() {\n    this.ws = GBWebsocket(\"ws://\"+HOSTSTATIC+\"/join\");\n    this.serial = new Serial();\n    this.serial.getDevice().then(() => {\n      console.log(\"Usb connected, updating status.\");\n      this.connection();\n    }).catch(c => {\n      console.log(\"CATTTCH\");\n    });\n  }\n\n  connection() {\n    console.log(\"Attempt connection...\");\n    this.serial.receiveFromOtherGB(this.ws.read());\n    this.serial.receiveFromMyGB(this.serial.read());\n    this.serial.sendToMyGB();\n    this.serial.sendToOtherGB();\n  }\n\n  initiateConnection() {\n    console.log(\"Trying to initiate connection...\");\n    this.serial.receiveFromMyGB(this.serial.read());\n    this.serial.sendToOtherGB();\n    this.serial.receiveFromOtherGB(this.ws.read());\n    this.serial.sendToMyGB();\n    \n  }\n\n  render() {\n    if (navigator.usb) {\n      if (true) {\n        return (\n\n          <div className=\"connect\">\n            <img src={process.env.PUBLIC_URL + '/images/animation.gif'} className=\"gameboy\" />\n            <h2 className=\"cover-heading\">GameBoylinki</h2>\n            <p className=\"lead\">Connect your Game Boy, boot Games, and start playing with your friends!</p>\n            <hr />\n            <h4>Connect your Game Boy</h4>\n            <p>Connect your Game Boy with the USB to Game Link adapter and click \"connect\".</p>\n            <button onClick={(e) => this.handleConnectJoinClick()} className=\"btn btn-lg btn-secondary\">Connect</button>\n            <button onClick={(e) => this.handleConnectCreateClick()} className=\"btn btn-lg btn-secondary\">Create</button>\n            <br/>\n            <small>Version: 0.1</small>\n          </div>\n        )\n      }\n    }\n    else \n    {\n        return (\n\n            <span>Not supported by browser... try to have a more recent browser or system.</span>\n          )\n    }\n   }\n}\n\n// ========================================\n\nReactDOM.render(\n  <OnlineGBGame />,\n  document.getElementById('root')\n);\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}