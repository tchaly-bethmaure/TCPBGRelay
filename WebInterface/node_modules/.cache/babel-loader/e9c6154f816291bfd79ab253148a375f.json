{"ast":null,"code":"class GBWebsocket {\n  constructor(url) {\n    this.ws = new WebSocket(url);\n    this.ws.onmessage = function (event) {\n      console.log(this);\n      this.onMessage(event);\n    }.bind(this);\n    this.waitForConnection();\n  }\n  waitForConnection() {\n    if (this.ws.readyState === 1) {\n      console.log(\"Connection ready\");\n    } else {\n      setTimeout(this.waitForConnection.bind(this), 100);\n    }\n  }\n  onMessage(event) {\n    console.log(event);\n    var message = JSON.parse(event.data);\n  }\n  send(data) {\n    this.ws.send(data);\n  }\n  read() {\n    return this.ws.read();\n  }\n}","map":{"version":3,"names":["GBWebsocket","constructor","url","ws","WebSocket","onmessage","event","console","log","onMessage","bind","waitForConnection","readyState","setTimeout","message","JSON","parse","data","send","read"],"sources":["/Users/charlesberthaume/Projects/relaypico-pico/WebInterface/src/gbwebsocket.js"],"sourcesContent":["class GBWebsocket {\n    constructor(url)\n    {\n        this.ws = new WebSocket(url);\n        this.ws.onmessage = (function(event){\n            console.log(this);\n            this.onMessage(event);\n        }).bind(this);\n\n        this.waitForConnection();\n    }\n\n    waitForConnection() \n    {\n        if(this.ws.readyState === 1)\n        {\n            console.log(\"Connection ready\");\n            \n        } else \n        {\n            setTimeout(\n                this.waitForConnection.bind(this),\n                100\n            )\n        }\n    }\n\n    onMessage(event)\n    {\n        console.log(event);\n        var message = JSON.parse(event.data);\n        \n    }\n\n    send(data)\n    {\n        this.ws.send(data);        \n    }\n\n    read()\n    {\n        return this.ws.read();\n    }\n\n\n}"],"mappings":"AAAA,MAAMA,WAAW,CAAC;EACdC,WAAWA,CAACC,GAAG,EACf;IACI,IAAI,CAACC,EAAE,GAAG,IAAIC,SAAS,CAACF,GAAG,CAAC;IAC5B,IAAI,CAACC,EAAE,CAACE,SAAS,GAAI,UAASC,KAAK,EAAC;MAChCC,OAAO,CAACC,GAAG,CAAC,IAAI,CAAC;MACjB,IAAI,CAACC,SAAS,CAACH,KAAK,CAAC;IACzB,CAAC,CAAEI,IAAI,CAAC,IAAI,CAAC;IAEb,IAAI,CAACC,iBAAiB,CAAC,CAAC;EAC5B;EAEAA,iBAAiBA,CAAA,EACjB;IACI,IAAG,IAAI,CAACR,EAAE,CAACS,UAAU,KAAK,CAAC,EAC3B;MACIL,OAAO,CAACC,GAAG,CAAC,kBAAkB,CAAC;IAEnC,CAAC,MACD;MACIK,UAAU,CACN,IAAI,CAACF,iBAAiB,CAACD,IAAI,CAAC,IAAI,CAAC,EACjC,GACJ,CAAC;IACL;EACJ;EAEAD,SAASA,CAACH,KAAK,EACf;IACIC,OAAO,CAACC,GAAG,CAACF,KAAK,CAAC;IAClB,IAAIQ,OAAO,GAAGC,IAAI,CAACC,KAAK,CAACV,KAAK,CAACW,IAAI,CAAC;EAExC;EAEAC,IAAIA,CAACD,IAAI,EACT;IACI,IAAI,CAACd,EAAE,CAACe,IAAI,CAACD,IAAI,CAAC;EACtB;EAEAE,IAAIA,CAAA,EACJ;IACI,OAAO,IAAI,CAAChB,EAAE,CAACgB,IAAI,CAAC,CAAC;EACzB;AAGJ","ignoreList":[]},"metadata":{},"sourceType":"module"}