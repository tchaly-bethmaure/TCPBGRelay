[{"/Users/charlesberthaume/Projects/relaypico-pico/WebInterface/src/index.js":"1","/Users/charlesberthaume/Projects/relaypico-pico/WebInterface/src/gbwebsocket.js":"2","/Users/charlesberthaume/Projects/relaypico-pico/WebInterface/src/serial.js":"3"},{"size":2691,"mtime":1714063101602,"results":"4","hashOfConfig":"5"},{"size":788,"mtime":1714036805140,"results":"6","hashOfConfig":"5"},{"size":3737,"mtime":1714037122010,"results":"7","hashOfConfig":"5"},{"filePath":"8","messages":"9","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"10"},"a2f18v",{"filePath":"11","messages":"12","errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"13"},{"filePath":"14","messages":"15","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"/Users/charlesberthaume/Projects/relaypico-pico/WebInterface/src/index.js",["16"],"import React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport 'bootstrap/dist/js/bootstrap.js';\nimport 'bootstrap/dist/js/bootstrap.bundle';\nimport './index.css';\n\nimport { Serial } from './serial.js';\nimport { GBWebsocket } from './gbwebsocket.js';\nglobal.jQuery = require('jquery');\nrequire('bootstrap');\n\n\nvar HOSTSTATIC = \"192.168.144.4\" \n\nclass OnlineGBGame extends React.Component {\n  handleConnectCreateClick() {\n    this.ws = GBWebsocket(\"ws://\"+HOSTSTATIC+\"/create\");\n    this.serial = new Serial();\n    this.serial.getDevice().then(() => {\n      console.log(\"Usb connected, updating status.\");\n      this.initiateConnection();\n    }).catch(c => {\n      console.log(\"CATTTCH\");\n    });\n  }\n\n  handleConnectJoinClick() {\n    this.ws = GBWebsocket(\"ws://\"+HOSTSTATIC+\"/join\");\n    this.serial = new Serial();\n    this.serial.getDevice().then(() => {\n      console.log(\"Usb connected, updating status.\");\n      this.connection();\n    }).catch(c => {\n      console.log(\"CATTTCH\");\n    });\n  }\n\n  connection() {\n    console.log(\"Attempt connection...\");\n    this.serial.receiveFromOtherGB(this.ws.read());\n    this.serial.receiveFromMyGB(this.serial.read());\n    this.serial.sendToMyGB();\n    this.serial.sendToOtherGB();\n  }\n\n  initiateConnection() {\n    console.log(\"Trying to initiate connection...\");\n    this.serial.receiveFromMyGB(this.serial.read());\n    this.serial.sendToOtherGB();\n    this.serial.receiveFromOtherGB(this.ws.read());\n    this.serial.sendToMyGB();\n    \n  }\n\n  render() {\n    if (navigator.usb) {\n      if (true) {\n        return (\n\n          <div className=\"connect\">\n            <img src={process.env.PUBLIC_URL + '/images/animation.gif'} className=\"gameboy\" />\n            <h2 className=\"cover-heading\">GameBoylinki</h2>\n            <p className=\"lead\">Connect your Game Boy, boot Games, and start playing with your friends!</p>\n            <hr />\n            <h4>Connect your Game Boy</h4>\n            <p>Connect your Game Boy with the USB to Game Link adapter and click \"connect\".</p>\n            <button onClick={(e) => this.handleConnectJoinClick()} className=\"btn btn-lg btn-secondary\">Connect</button>\n            <button onClick={(e) => this.handleConnectCreateClick()} className=\"btn btn-lg btn-secondary\">Create</button>\n            <br/>\n            <small>Version: 0.1</small>\n          </div>\n        )\n      }\n    }\n    else \n    {\n        return (\n\n            <span>Not supported by browser... try to have a more recent browser or system.</span>\n          )\n    }\n   }\n}\n\n// ========================================\n\nReactDOM.render(\n  <OnlineGBGame />,\n  document.getElementById('root')\n);\n","/Users/charlesberthaume/Projects/relaypico-pico/WebInterface/src/gbwebsocket.js",["17","18"],"class GBWebsocket {\n    constructor(url)\n    {\n        this.ws = new WebSocket(url);\n        this.ws.onmessage = (function(event){\n            console.log(this);\n            this.onMessage(event);\n        }).bind(this);\n\n        this.waitForConnection();\n    }\n\n    waitForConnection() \n    {\n        if(this.ws.readyState === 1)\n        {\n            console.log(\"Connection ready\");\n            \n        } else \n        {\n            setTimeout(\n                this.waitForConnection.bind(this),\n                100\n            )\n        }\n    }\n\n    onMessage(event)\n    {\n        console.log(event);\n        var message = JSON.parse(event.data);\n        \n    }\n\n    send(data)\n    {\n        this.ws.send(data);        \n    }\n\n    read()\n    {\n        return this.ws.read();\n    }\n\n\n}","/Users/charlesberthaume/Projects/relaypico-pico/WebInterface/src/serial.js",[],{"ruleId":"19","severity":1,"message":"20","line":63,"column":13,"nodeType":"21","endLine":63,"endColumn":95},{"ruleId":"22","severity":1,"message":"23","line":1,"column":7,"nodeType":"24","messageId":"25","endLine":1,"endColumn":18},{"ruleId":"22","severity":1,"message":"26","line":31,"column":13,"nodeType":"24","messageId":"25","endLine":31,"endColumn":20},"jsx-a11y/alt-text","img elements must have an alt prop, either with meaningful text, or an empty string for decorative images.","JSXOpeningElement","no-unused-vars","'GBWebsocket' is defined but never used.","Identifier","unusedVar","'message' is assigned a value but never used."]